import React from 'react';
import { useMedia } from 'react-use';

import { bem } from '../../lib';
import { Logo } from '../logo';

import { StatusPlateTime } from './__time';
import { StatusPlateLocations } from './__locations';
import { StatusPlatePoints } from './__points';

import './index.scss';

interface Props {
    type: 'participant' | 'curator';
}

export const b = bem('status-plate');

export const StatusPlate = ({ type }: Props) => {
    const isSmallMobile = useMedia('(max-width: 420px)');

    return (
        <div className={b()}>
            {isSmallMobile ? (
                <div className={b('flex-center')}>
                    <Logo mix={b('logo')} />
                    {type === 'participant' && <StatusPlateTime />}
                </div>
            ) : (
                <Logo mix={b('logo')} />
            )}

            <div className={b('flex-center')}>
                {!isSmallMobile && type === 'participant' && <StatusPlateTime />}

                {type === 'participant' && (
                    <>
                        <StatusPlateLocations />
                        <StatusPlatePoints />
                    </>
                )}

                {type === 'curator' && (
                    <div className={b('block')}>
                        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="20" viewBox="0 0 26 20" fill="none">
                            <path
                                fillRule="evenodd"
                                clipRule="evenodd"
                                d="M6.77776 8.8104C7.43432 8.8104 8.06344 8.93009 8.64528 9.14923C8.69931 8.73686 8.81055 8.3425 8.97076 7.97437C8.38834 8.49434 7.61996 8.8104 6.77776 8.8104ZM17.0292 7.97437C17.1894 8.3425 17.3006 8.73686 17.3547 9.14923C17.9365 8.93009 18.5656 8.8104 19.2222 8.8104C18.38 8.8104 17.6116 8.49435 17.0292 7.97437Z"
                                fill="#888888"
                            />
                            <path
                                d="M13 14.1176C15.4257 14.1176 17.3921 12.1512 17.3921 9.72544C17.3921 9.53013 17.3794 9.3378 17.3547 9.14923M13 14.1176C10.5743 14.1176 8.60782 12.1512 8.60782 9.72544C8.60782 9.53013 8.62057 9.3378 8.64528 9.14923M13 14.1176C10.3412 14.1176 8.01976 15.5897 6.77775 17.7777M13 14.1176C15.6588 14.1176 17.9802 15.5897 19.2222 17.7777M6.77776 8.8104C4.95846 8.8104 3.48364 7.33558 3.48364 5.51629C3.48364 3.697 4.95846 2.22217 6.77776 2.22217C8.59705 2.22217 10.0719 3.697 10.0719 5.51629C10.0719 5.91023 10.0027 6.28802 9.8759 6.63818M6.77776 8.8104C4.78366 8.8104 3.04259 9.91448 2.11108 11.5555M6.77776 8.8104C7.61996 8.8104 8.38834 8.49434 8.97076 7.97437M6.77776 8.8104C7.43432 8.8104 8.06344 8.93009 8.64528 9.14923M19.2222 8.8104C21.0415 8.8104 22.5163 7.33558 22.5163 5.51629C22.5163 3.697 21.0415 2.22217 19.2222 2.22217C17.4029 2.22217 15.9281 3.697 15.9281 5.51629C15.9281 5.91023 15.9972 6.28801 16.1241 6.63818M19.2222 8.8104C21.2163 8.8104 22.9574 9.91448 23.8889 11.5555M19.2222 8.8104C18.5656 8.8104 17.9365 8.93009 17.3547 9.14923M19.2222 8.8104C18.38 8.8104 17.6116 8.49435 17.0292 7.97437M9.8759 6.63818C10.6721 5.83251 11.7778 5.33328 13 5.33328C14.2222 5.33328 15.3278 5.83251 16.1241 6.63818M9.8759 6.63818C9.49735 7.02122 9.18873 7.47352 8.97076 7.97437M8.97076 7.97437C8.81055 8.3425 8.69931 8.73686 8.64528 9.14923M17.3547 9.14923C17.3006 8.73686 17.1894 8.3425 17.0292 7.97437M17.0292 7.97437C16.8112 7.47352 16.5026 7.02121 16.1241 6.63818"
                                stroke="#888888"
                                strokeWidth="2.66667"
                                strokeLinecap="round"
                                strokeLinejoin="round"
                            />
                        </svg>
                        2/18
                    </div>
                )}
            </div>
        </div>
    );
};
